import numpy as np
import matplotlib.pyplot as plt
from scipy.interpolate import interp1d
import os

wl = np.linspace(400, 800, 401)##等间距
data = np.loadtxt('1.txt') #np.loadtxt简单格式化文件
fn = interp1d(data[:, 0], data[:, 1]/100) #fn and fk?

n0 = fn(wl)
n1 = [0.2811, 0.4191, 0.6138, 0.7612, 0.7373, 0.6176, 0.5059, 0.4238, 0.3627,
        0.3139, 0.2746, 0.2451, 0.2254, 0.2135, 0.2036, 0.1862, 0.1542, 0.1136,
        0.0778, 0.0527, 0.0367, 0.0269, 0.0208, 0.0170, 0.0147, 0.0135, 0.0131,
        0.0133, 0.0144, 0.0166, 0.0203, 0.0268, 0.0387, 0.0624, 0.1156, 0.2483,
        0.4933, 0.4616, 0.2679, 0.1682, 0.1235, 0.1035, 0.0967, 0.0990, 0.1101,
        0.1323, 0.1709, 0.2354, 0.3374, 0.4761, 0.6022, 0.6382, 0.5891, 0.5194,
        0.4659, 0.4347, 0.4211, 0.4175, 0.4150, 0.4047, 0.3823, 0.3500, 0.3144,
        0.2821, 0.2565, 0.2387, 0.2285, 0.2252, 0.2280, 0.2358, 0.2468, 0.2585,
        0.2678, 0.2718, 0.2693, 0.2615, 0.2513, 0.2417, 0.2353, 0.2338, 0.2385,
        0.2510, 0.2727, 0.3058, 0.3532, 0.4175, 0.4999, 0.5967, 0.6959, 0.7794,
        0.8325, 0.8544, 0.8558, 0.8488, 0.8391, 0.8230, 0.7899, 0.7297, 0.6421,
        0.5406, 0.4431, 0.3618, 0.2997, 0.2554, 0.2262, 0.2098, 0.2052, 0.2135,
        0.2391, 0.2928, 0.3995, 0.6064, 0.8771, 0.7461, 0.3738, 0.1783, 0.0942,
        0.0552, 0.0350, 0.0238, 0.0170, 0.0126, 0.0098, 0.0078, 0.0064, 0.0054,
        0.0046, 0.0041, 0.0036, 0.0033, 0.0031, 0.0029, 0.0028, 0.0027, 0.0027,
        0.0027, 0.0027, 0.0028, 0.0030, 0.0031, 0.0034, 0.0037, 0.0042, 0.0047,
        0.0055, 0.0065, 0.0078, 0.0096, 0.0122, 0.0158, 0.0213, 0.0299, 0.0441,
        0.0690, 0.1165, 0.2158, 0.4322, 0.7856, 0.8475, 0.5789, 0.3780, 0.2696,
        0.2109, 0.1780, 0.1599, 0.1512, 0.1494, 0.1534, 0.1630, 0.1785, 0.2009,
        0.2311, 0.2701, 0.3179, 0.3715, 0.4243, 0.4659, 0.4867, 0.4840, 0.4635,
        0.4344, 0.4045, 0.3789, 0.3596, 0.3475, 0.3428, 0.3457, 0.3566, 0.3762,
        0.4055, 0.4461, 0.4994, 0.5664, 0.6456, 0.7316, 0.8119, 0.8684, 0.8844,
        0.8554, 0.7923, 0.7130, 0.6330, 0.5614, 0.5018, 0.4544, 0.4181, 0.3915,
        0.3732, 0.3622, 0.3577, 0.3594, 0.3670, 0.3805, 0.3999, 0.4253, 0.4566,
        0.4928, 0.5326, 0.5727, 0.6091, 0.6365, 0.6502, 0.6478, 0.6300, 0.6002,
        0.5635, 0.5245, 0.4870, 0.4530, 0.4238, 0.3999, 0.3811, 0.3674, 0.3584,
        0.3539, 0.3538, 0.3581, 0.3667, 0.3796, 0.3969, 0.4186, 0.4444, 0.4737,
        0.5051, 0.5366, 0.5654, 0.5879, 0.6008, 0.6018, 0.5906, 0.5687, 0.5392,
        0.5055, 0.4709, 0.4378, 0.4075, 0.3811, 0.3587, 0.3403, 0.3258, 0.3149,
        0.3074, 0.3031, 0.3018, 0.3033, 0.3074, 0.3138, 0.3221, 0.3318, 0.3421,
        0.3516, 0.3589, 0.3622, 0.3600, 0.3512, 0.3358, 0.3147, 0.2897, 0.2628,
        0.2358, 0.2103, 0.1869, 0.1662, 0.1481, 0.1326, 0.1193, 0.1081, 0.0986,
        0.0906, 0.0839, 0.0783, 0.0736, 0.0697, 0.0665, 0.0640, 0.0620, 0.0606,
        0.0596, 0.0590, 0.0589, 0.0593, 0.0601, 0.0613, 0.0631, 0.0654, 0.0684,
        0.0720, 0.0765, 0.0820, 0.0887, 0.0967, 0.1066, 0.1186, 0.1334, 0.1517,
        0.1745, 0.2030, 0.2390, 0.2845, 0.3419, 0.4135, 0.5002, 0.5996, 0.7026,
        0.7913, 0.8437, 0.8453, 0.7997, 0.7244, 0.6391, 0.5571, 0.4849, 0.4242,
        0.3743, 0.3338, 0.3011, 0.2746, 0.2533, 0.2361, 0.2222, 0.2112, 0.2025,
        0.1958, 0.1907, 0.1871, 0.1849, 0.1837, 0.1836, 0.1845, 0.1861, 0.1884,
        0.1914, 0.1949, 0.1987, 0.2028, 0.2069, 0.2110, 0.2147, 0.2181, 0.2208,
        0.2227, 0.2238, 0.2239, 0.2231, 0.2215, 0.2191, 0.2160, 0.2125, 0.2087,
        0.2047, 0.2007, 0.1969, 0.1933, 0.1901, 0.1874, 0.1852, 0.1835, 0.1826,
        0.1823, 0.1828, 0.1841, 0.1862, 0.1893, 0.1934, 0.1986, 0.2050, 0.2127,
        0.2219, 0.2327, 0.2453, 0.2598, 0.2765, 0.2955, 0.3169, 0.3408, 0.3669,
        0.3949, 0.4239, 0.4529, 0.4800, 0.5033]

plt.plot(wl, n0, label='Simulation result')
plt.plot(wl, n1, label='DL result')
plt.xlabel('wavelength (nm)')
plt.ylabel('Transmittance ')
plt.legend()
plt.title('refractive')
plt.show()

